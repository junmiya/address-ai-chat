<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .layer-client { fill: #E3F2FD; stroke: #1976D2; stroke-width: 2; }
      .layer-cdn { fill: #F3E5F5; stroke: #7B1FA2; stroke-width: 2; }
      .layer-frontend { fill: #E8F5E8; stroke: #388E3C; stroke-width: 2; }
      .layer-realtime { fill: #FFF3E0; stroke: #F57C00; stroke-width: 2; }
      .layer-backend { fill: #FCE4EC; stroke: #C2185B; stroke-width: 2; }
      .layer-storage { fill: #E1F5FE; stroke: #0288D1; stroke-width: 2; }
      .layer-external { fill: #FFEBEE; stroke: #D32F2F; stroke-width: 2; }
      .text-title { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; text-anchor: middle; }
      .text-desc { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" class="text-title" font-size="18">Address AI Chat - System Architecture</text>
  
  <!-- Layer 1: Client Devices -->
  <rect x="50" y="60" width="1100" height="80" class="layer-client" rx="5"/>
  <text x="600" y="85" class="text-title">Layer 1: Client Devices</text>
  
  <rect x="80" y="100" width="150" height="30" class="layer-client" rx="3"/>
  <text x="155" y="118" class="text-desc">Web Browser</text>
  
  <rect x="250" y="100" width="150" height="30" class="layer-client" rx="3"/>
  <text x="325" y="118" class="text-desc">Mobile Browser</text>
  
  <rect x="420" y="100" width="150" height="30" class="layer-client" rx="3"/>
  <text x="495" y="118" class="text-desc">PWA Support</text>
  
  <!-- Layer 2: CDN & Edge -->
  <rect x="50" y="160" width="1100" height="80" class="layer-cdn" rx="5"/>
  <text x="600" y="185" class="text-title">Layer 2: CDN & Edge Network</text>
  
  <rect x="80" y="200" width="150" height="30" class="layer-cdn" rx="3"/>
  <text x="155" y="218" class="text-desc">Vercel Edge</text>
  
  <rect x="250" y="200" width="150" height="30" class="layer-cdn" rx="3"/>
  <text x="325" y="218" class="text-desc">Static Assets CDN</text>
  
  <rect x="420" y="200" width="150" height="30" class="layer-cdn" rx="3"/>
  <text x="495" y="218" class="text-desc">Load Balancer</text>
  
  <!-- Layer 3: Frontend Application -->
  <rect x="50" y="260" width="1100" height="80" class="layer-frontend" rx="5"/>
  <text x="600" y="285" class="text-title">Layer 3: Frontend Application</text>
  
  <rect x="80" y="300" width="120" height="30" class="layer-frontend" rx="3"/>
  <text x="140" y="318" class="text-desc">Next.js 15</text>
  
  <rect x="220" y="300" width="120" height="30" class="layer-frontend" rx="3"/>
  <text x="280" y="318" class="text-desc">React 19</text>
  
  <rect x="360" y="300" width="120" height="30" class="layer-frontend" rx="3"/>
  <text x="420" y="318" class="text-desc">TypeScript</text>
  
  <rect x="500" y="300" width="120" height="30" class="layer-frontend" rx="3"/>
  <text x="560" y="318" class="text-desc">Tailwind CSS</text>
  
  <rect x="640" y="300" width="120" height="30" class="layer-frontend" rx="3"/>
  <text x="700" y="318" class="text-desc">Zustand</text>
  
  <!-- Layer 4: Real-time Communication -->
  <rect x="50" y="360" width="1100" height="80" class="layer-realtime" rx="5"/>
  <text x="600" y="385" class="text-title">Layer 4: Real-time Communication</text>
  
  <rect x="80" y="400" width="140" height="30" class="layer-realtime" rx="3"/>
  <text x="150" y="418" class="text-desc">Socket.io Client</text>
  
  <rect x="240" y="400" width="140" height="30" class="layer-realtime" rx="3"/>
  <text x="310" y="418" class="text-desc">Web Audio API</text>
  
  <rect x="400" y="400" width="140" height="30" class="layer-realtime" rx="3"/>
  <text x="470" y="418" class="text-desc">Web Speech API</text>
  
  <rect x="560" y="400" width="140" height="30" class="layer-realtime" rx="3"/>
  <text x="630" y="418" class="text-desc">MediaRecorder</text>
  
  <!-- Layer 5: Backend Services -->
  <rect x="50" y="460" width="1100" height="80" class="layer-backend" rx="5"/>
  <text x="600" y="485" class="text-title">Layer 5: Backend Services</text>
  
  <rect x="80" y="500" width="130" height="30" class="layer-backend" rx="3"/>
  <text x="145" y="518" class="text-desc">Socket.io Server</text>
  
  <rect x="230" y="500" width="130" height="30" class="layer-backend" rx="3"/>
  <text x="295" y="518" class="text-desc">AI Engine</text>
  
  <rect x="380" y="500" width="130" height="30" class="layer-backend" rx="3"/>
  <text x="445" y="518" class="text-desc">Notification Service</text>
  
  <rect x="530" y="500" width="130" height="30" class="layer-backend" rx="3"/>
  <text x="595" y="518" class="text-desc">Emergency Service</text>
  
  <rect x="680" y="500" width="130" height="30" class="layer-backend" rx="3"/>
  <text x="745" y="518" class="text-desc">Speech Processing</text>
  
  <!-- Layer 6: Data Storage -->
  <rect x="50" y="560" width="1100" height="80" class="layer-storage" rx="5"/>
  <text x="600" y="585" class="text-title">Layer 6: Data Storage</text>
  
  <rect x="80" y="600" width="150" height="30" class="layer-storage" rx="3"/>
  <text x="155" y="618" class="text-desc">Supabase PostgreSQL</text>
  
  <rect x="250" y="600" width="150" height="30" class="layer-storage" rx="3"/>
  <text x="325" y="618" class="text-desc">Supabase Auth</text>
  
  <rect x="420" y="600" width="150" height="30" class="layer-storage" rx="3"/>
  <text x="495" y="618" class="text-desc">Browser Storage</text>
  
  <rect x="590" y="600" width="150" height="30" class="layer-storage" rx="3"/>
  <text x="665" y="618" class="text-desc">Conversation Records</text>
  
  <!-- Layer 7: External APIs -->
  <rect x="50" y="660" width="1100" height="80" class="layer-external" rx="5"/>
  <text x="600" y="685" class="text-title">Layer 7: External APIs</text>
  
  <rect x="80" y="700" width="140" height="30" class="layer-external" rx="3"/>
  <text x="150" y="718" class="text-desc">Firebase Auth</text>
  
  <rect x="240" y="700" width="140" height="30" class="layer-external" rx="3"/>
  <text x="310" y="718" class="text-desc">OpenAI API</text>
  
  <rect x="400" y="700" width="140" height="30" class="layer-external" rx="3"/>
  <text x="470" y="718" class="text-desc">Web Notification</text>
  
  <rect x="560" y="700" width="140" height="30" class="layer-external" rx="3"/>
  <text x="630" y="718" class="text-desc">Email Service</text>
  
  <!-- Data Flow Arrows -->
  <line x1="155" y1="140" x2="155" y2="190" class="arrow"/>
  <line x1="325" y1="140" x2="325" y2="190" class="arrow"/>
  <line x1="495" y1="140" x2="495" y2="190" class="arrow"/>
  
  <line x1="155" y1="240" x2="140" y2="290" class="arrow"/>
  <line x1="325" y1="240" x2="280" y2="290" class="arrow"/>
  <line x1="495" y1="240" x2="560" y2="290" class="arrow"/>
  
  <line x1="140" y1="340" x2="150" y2="390" class="arrow"/>
  <line x1="280" y1="340" x2="310" y2="390" class="arrow"/>
  <line x1="420" y1="340" x2="470" y2="390" class="arrow"/>
  <line x1="700" y1="340" x2="495" y2="590" class="arrow"/>
  
  <line x1="150" y1="440" x2="145" y2="490" class="arrow"/>
  <line x1="310" y1="440" x2="745" y2="490" class="arrow"/>
  <line x1="470" y1="440" x2="295" y2="490" class="arrow"/>
  <line x1="630" y1="440" x2="745" y2="490" class="arrow"/>
  
  <line x1="145" y1="540" x2="155" y2="590" class="arrow"/>
  <line x1="295" y1="540" x2="310" y2="690" class="arrow"/>
  <line x1="445" y1="540" x2="470" y2="690" class="arrow"/>
  <line x1="745" y1="540" x2="665" y2="590" class="arrow"/>
  
  <line x1="325" y1="640" x2="150" y2="690" class="arrow"/>
  
  <!-- Legend -->
  <rect x="850" y="100" width="280" height="200" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="5"/>
  <text x="990" y="120" class="text-title">Technology Stack</text>
  
  <text x="870" y="140" class="text-desc" text-anchor="start">Frontend: Next.js 15 + React 19</text>
  <text x="870" y="155" class="text-desc" text-anchor="start">Language: TypeScript (Strict)</text>
  <text x="870" y="170" class="text-desc" text-anchor="start">State: Zustand Store</text>
  <text x="870" y="185" class="text-desc" text-anchor="start">Styling: Tailwind CSS</text>
  <text x="870" y="200" class="text-desc" text-anchor="start">Real-time: Socket.io</text>
  <text x="870" y="215" class="text-desc" text-anchor="start">Audio: Web Audio API</text>
  <text x="870" y="230" class="text-desc" text-anchor="start">Speech: Web Speech API</text>
  <text x="870" y="245" class="text-desc" text-anchor="start">AI: SimpleAI + ButlerAI</text>
  <text x="870" y="260" class="text-desc" text-anchor="start">Database: Supabase PostgreSQL</text>
  <text x="870" y="275" class="text-desc" text-anchor="start">Hosting: Vercel Edge Network</text>
  
</svg>